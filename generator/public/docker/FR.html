<!DOCTYPE html>
<html lang=FR>
    <head>
        <title> docker Refcard</title>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
        <link rel='stylesheet' href='../css/refcards-style.css'>
        <script async defer src="https://buttons.github.io/buttons.js"></script>
    </head>
    <body>
    <div class="first-page" style="background-color: #FC2860">
        <div class="buttons">
            <a href="../index.html">
                <img src="../assets/back-logo.svg" alt="fleche retour">
            </a>
            <a href="https://github.com/ineat/refcards/discussions/new" class="hide_mobile">Une erreur ? Une question ? Éditer cette page sur Github</a>
            <a class="github-button" href="https://github.com/ineat/refcards" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star ineat/refcards on GitHub">Star</a>
        </div>
        <img src="" alt="">
        <div class="band">
            <img src="assets/logo-docker.png" alt="logo docker">
            <img src="../assets/ineat-logo.svg" alt="logo ineat">
        </div>
        <a href="https://github.com/ineat/refcards">
            <img src="../assets/github_fabbutton.svg" alt="logo github" id="github">
        </a>
    </div>
    <div class="buttons-on-page">
        <a href="../index.html">
            <img src="../assets/back-logo-black.svg" alt="fleche retour">
        </a>
        <a href="https://github.com/ineat/refcards/discussions/new" class="hide_mobile">Une erreur ? Une question ? Éditer cette page sur Github</a>
        <a class="github-button" href="https://github.com/ineat/refcards" data-color-scheme="no-preference: light; light: light; dark: dark;" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star ineat/refcards on GitHub">Star</a>
    </div>
        <h1 class="heading1" style="color: #FC2860" id="docker-refcard"><a class="anchor" href="#docker-refcard"><img src="../assets/anchor.svg" alt></a>Docker RefCard</h1><p><em>Version française</em></p>
<p>RefCard d&#39;utilisation de docker.</p>
</div>
                        <div class="h2-part">
                            <h2 class="heading2" style="color: #FC2860" id="docker-définitions"><a class="anchor" href="#docker-définitions"><img src="../assets/anchor.svg" alt></a>Docker définitions</h2><p><strong>Couche</strong> - Un ensembe de fichiers en lecture seule pour provisionner un system.</p>
<p><strong>Image</strong> - Un template prêt à l&#39;emploi avec des instructions pour la création d&#39;un conteneur.</p>
<p><strong>Conteneur</strong> - Une instance d&#39;une image exécuté dans un système.</p>
<p><strong>Registry</strong> - Un espace de stockage des images.</p>
<p><strong>Docker machine</strong> - Une machine virtuelle dans laquelle sont exécutés les conteneurs.</p>
<p><strong>Docker compose</strong> - Un utilitaire qui permet d&#39;exécuter plusieurs conteneurs comme un système.</p>
</div>
                        <div class="h2-part">
                            <h2 class="heading2" style="color: #FC2860" id="commandes-utiles"><a class="anchor" href="#commandes-utiles"><img src="../assets/anchor.svg" alt></a>Commandes utiles</h2><h4 class="heading4" style="color: #FC2860" id="télécharger-une-image"><a class="anchor" href="#télécharger-une-image"><img src="../assets/anchor.svg" alt></a>Télécharger une image</h4><p><code class="codespan" style="color: #FC2860">docker pull image_name</code></p>
<h4 class="heading4" style="color: #FC2860" id="exécuter-et-arrêter-un-conteneur"><a class="anchor" href="#exécuter-et-arrêter-un-conteneur"><img src="../assets/anchor.svg" alt></a>Exécuter et arrêter un conteneur</h4><p><code class="codespan" style="color: #FC2860">docker [start | restart | stop] [container_name | container_full_id | container_startwith_id]</code></p>
<h4 class="heading4" style="color: #FC2860" id="afficher-lhistorique-dune-image"><a class="anchor" href="#afficher-lhistorique-dune-image"><img src="../assets/anchor.svg" alt></a>Afficher l&#39;historique d&#39;une image</h4><p><code class="codespan" style="color: #FC2860">docker history [image_name | image_full_id | image_startwith_id]</code></p>
<h4 class="heading4" style="color: #FC2860" id="créer-une-image-tagguée"><a class="anchor" href="#créer-une-image-tagguée"><img src="../assets/anchor.svg" alt></a>Créer une image tagguée</h4><p><code class="codespan" style="color: #FC2860">docker tag sourtce_image[:tag] target_image[:tag]</code></p>
<h4 class="heading4" style="color: #FC2860" id="remove-one-or-multiple-images"><a class="anchor" href="#remove-one-or-multiple-images"><img src="../assets/anchor.svg" alt></a>Remove one or multiple images</h4><p><code class="codespan" style="color: #FC2860">docker rmi [...images_names | ...images_ids]</code></p>
<h4 class="heading4" style="color: #FC2860" id="créer-et-démarrer-un-conteneur-par-la-commande-run"><a class="anchor" href="#créer-et-démarrer-un-conteneur-par-la-commande-run"><img src="../assets/anchor.svg" alt></a>Créer et démarrer un conteneur par la commande run</h4><p><code class="codespan" style="color: #FC2860">docker run -ti --name container_name image_name command</code></p>
<h4 class="heading4" style="color: #FC2860" id="créer-et-démarrer-un-conteneur-par-la-commande-run-et-larrêter-sil-y-a-une-erreur"><a class="anchor" href="#créer-et-démarrer-un-conteneur-par-la-commande-run-et-larrêter-sil-y-a-une-erreur"><img src="../assets/anchor.svg" alt></a>Créer et démarrer un conteneur par la commande run et l&#39;arrêter s&#39;il y a une erreur.</h4><p><code class="codespan" style="color: #FC2860">docker run --rm -ti image_name command</code></p>
<h4 class="heading4" style="color: #FC2860" id="exécuter-une-commande-dans-un-conteneur"><a class="anchor" href="#exécuter-une-commande-dans-un-conteneur"><img src="../assets/anchor.svg" alt></a>Exécuter une commande dans un conteneur</h4><p><code class="codespan" style="color: #FC2860">docker exec -ti [container_name | container_id] [command.sh | (bash | sh) -c &quot;command&quot;]</code></p>
<h4 class="heading4" style="color: #FC2860" id="afficher-les-logs-dun-conteneur"><a class="anchor" href="#afficher-les-logs-dun-conteneur"><img src="../assets/anchor.svg" alt></a>Afficher les logs d&#39;un conteneur</h4><p><code class="codespan" style="color: #FC2860">docker logs -ft [container_name | container_id]</code></p>
<h4 class="heading4" style="color: #FC2860" id="exemple-de-démarrage-dun-conteneur-avec-exposition-de-port-montage-de-volume-et-mise-à-jour-dune-variable-denvironnement"><a class="anchor" href="#exemple-de-démarrage-dun-conteneur-avec-exposition-de-port-montage-de-volume-et-mise-à-jour-dune-variable-denvironnement"><img src="../assets/anchor.svg" alt></a>Exemple de démarrage d&#39;un conteneur avec exposition de port, montage de volume et mise à jour d&#39;une variable d&#39;environnement</h4><p><code class="codespan" style="color: #FC2860">docker run -it --rm -p 8080:8080 -v /path/to/agent.jar:/agent.jar -e JAVA_OPTS=”-javaagent:/agent.jar” tomcat:9.0.14-jre11</code></p>
</div>
                        <div class="h2-part">
                            <h2 class="heading2" style="color: #FC2860" id="commandes-utiles-pour-nettoyer-un-système"><a class="anchor" href="#commandes-utiles-pour-nettoyer-un-système"><img src="../assets/anchor.svg" alt></a>Commandes utiles pour nettoyer un système</h2><h4 class="heading4" style="color: #FC2860" id="tuer-tous-les-conteneurs-en-cours-dexécution"><a class="anchor" href="#tuer-tous-les-conteneurs-en-cours-dexécution"><img src="../assets/anchor.svg" alt></a>Tuer tous les conteneurs en cours d&#39;exécution</h4><p><code class="codespan" style="color: #FC2860">docker kill $(docker ps -q)</code></p>
<h4 class="heading4" style="color: #FC2860" id="supprimer-tous-les-conteneurs-arrêtés"><a class="anchor" href="#supprimer-tous-les-conteneurs-arrêtés"><img src="../assets/anchor.svg" alt></a>Supprimer tous les conteneurs arrêtés</h4><p><code class="codespan" style="color: #FC2860">docker rm $(docker ps -aq)</code></p>
<h4 class="heading4" style="color: #FC2860" id="supprimer-les-images-dont-le-statut-est-dangling"><a class="anchor" href="#supprimer-les-images-dont-le-statut-est-dangling"><img src="../assets/anchor.svg" alt></a>Supprimer les images dont le statut est &#39;dangling&#39;</h4><p><code class="codespan" style="color: #FC2860">docker rmi $(docker images -qf dangling=true)</code></p>

        </div>
    </body>
</html>
